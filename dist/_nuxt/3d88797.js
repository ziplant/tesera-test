(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{422:function(e,t,o){"use strict";o.r(t);var n=o(91),m=Object(n.b)({middleware:["game-prefetch"],setup:function(){var e=Object(n.i)(),t=Object(n.a)((function(){return e.getters["games/current"]})),o=Object(n.a)((function(){return e.getters["comments/get"](t.value.game.teseraId)})),m=Object(n.f)(!1),c=Object(n.f)(""),l=function(){m.value=!1,c.value=""};return Object(n.e)((function(){e.dispatch("comments/fetch",t.value.game.teseraId)})),Object(n.d)((function(){e.commit("games/clearCurrentGame")})),{game:t,comments:o,commentModal:m,commentText:c,closeCommentModal:l,addComment:function(){e.dispatch("comments/add",{gameId:t.value.game.teseraId,commentText:c.value}),l()}}}}),c=o(61),component=Object(c.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("Главная")]),o("el-breadcrumb-item",[e._v(e._s(e.game.game.title))])],1),o("h2",[e._v(e._s(e.game.game.title))]),o("img",{attrs:{src:e.game.game.photoUrl}}),o("p",{domProps:{innerHTML:e._s(e.game.game.description)}}),o("el-divider"),o("div",[o("el-row",{attrs:{type:"flex",justify:"space-between"}},[o("el-col",[o("h4",[e._v("Комментарии:")])]),o("el-col",{staticClass:"text-right"},[o("el-button",{on:{click:function(t){e.commentModal=!0}}},[e._v("Добавить")])],1)],1),o("el-timeline",e._l(e.comments,(function(t){return o("el-timeline-item",{key:t.id,attrs:{timestamp:t.formattedDate,placement:"top"}},[o("el-card",[o("p",[e._v(e._s(t.comment))])])],1)})),1)],1),o("el-dialog",{attrs:{title:"Добавьте комментарий",visible:e.commentModal,"before-close":e.closeCommentModal,width:"80%"},on:{"update:visible":function(t){e.commentModal=t}}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.commentText,callback:function(t){e.commentText=t},expression:"commentText"}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.closeCommentModal}},[e._v("Отменить")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addComment}},[e._v("Добавить")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);